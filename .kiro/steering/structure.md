# Project Structure

## Root Files
- `main.js` - Compiled plugin entry point (generated by esbuild)
- `manifest.json` - Obsidian plugin metadata and configuration
- `package.json` - Node.js dependencies and build scripts
- `tsconfig.json` - TypeScript compiler configuration
- `esbuild.config.mjs` - Build configuration with Vue plugin
- `styles.css` - Global plugin styles

## Source Organization (`src/`)
```
src/
├── main.ts                    # Plugin entry point and command registration
├── audioPlayerRenderer.ts     # Vue app renderer for Obsidian integration
├── types.ts                   # TypeScript type definitions
├── utils.ts                   # Utility functions (time conversion, etc.)
└── components/
    ├── App.vue               # Main audio player component
    └── AudioComment.vue      # Bookmark/comment component
```

## Architecture Patterns
- **Plugin Pattern**: Main class extends Obsidian Plugin
- **Component-Based**: Vue 3 components for UI elements
- **Event-Driven**: Global events for audio control across vault
- **Markdown Processing**: Code block processor for `audio-player` blocks
- **Local Storage**: Caching waveform data and duration

## Key Conventions
- Vue components use Options API (not Composition API)
- Audio state managed globally via single HTMLAudioElement
- File paths resolved through Obsidian's vault API
- Waveform data cached in localStorage with filepath as key
- Commands registered for keyboard shortcuts and command palette
